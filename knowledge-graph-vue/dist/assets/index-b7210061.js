import{d as T,m as i,w as B,H as M,ak as V,O as n,a0 as o,U as s,R as k,S as w,W as x,F as C,ah as S,y as D,ag as F,ac as H,an as r,ao as b,ai as L,X as _,al as N,am as U,_ as $}from"./index-4af02034.js";import{C as K}from"./ChromeFilled-5bd66bf5.js";import{A as O}from"./ArrowUpOutlined-15a0d937.js";const c=d=>(N("data-v-30957758"),d=d(),U(),d),Q={class:"container"},q={class:"ai-assistant"},z={class:"header"},E={class:"ai-icon"},G=c(()=>s("p",null,"随时为您解答各种问题，提供专业建议",-1)),P={class:"suggestions"},R=["onClick"],W=c(()=>s("div",{class:"welcome-message"},[s("h2",null,"欢迎使用AI智能助手"),s("p",null,"我是您的智能问答助手，可以回答各种问题，提供专业建议，帮助您解决工作和生活中的难题。"),s("p",null,"请在下方的输入框中提问，或点击上面的快捷问题开始对话。")],-1)),X={class:"message-info"},j={key:0,class:"typing-indicator"},J=c(()=>s("span",{class:"ai-typing"},null,-1)),Y=c(()=>s("span",{class:"ai-typing"},null,-1)),Z=c(()=>s("span",{class:"ai-typing"},null,-1)),ss=[J,Y,Z],es={key:1},ts={class:"timestamp"},as={class:"input-area"},ns=["disabled"],os=T({__name:"index",setup(d){const a=i(""),p=i([]),v=i([]),u=i(null),h=i(null),m=()=>{const t=new Date;return`${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`};B(v,()=>{b(()=>{f()})}),M(()=>{I()});const I=()=>{V("/knowledge_merge/ask/list",{}).then(t=>{console.log(t),v.value=t.data.data})},f=()=>{u.value&&(u.value.scrollTop=u.value.scrollHeight)},g=()=>{if(!a.value.trim())return;p.value.push({sender:"user",text:a.value,timestamp:m(),typing:!1});const t=a.value;a.value="";const l={};l.question=t,L("/knowledge_merge/ask",l).then(e=>{console.log(e.data),console.log(e.data.result.answer),h.value=e.data.result.answer,console.log(h.value),p.value.push({sender:"ai",text:h.value,timestamp:m(),typing:!1}),b(()=>{f()})})},A=t=>{a.value=t,g()};return(t,l)=>(n(),o("div",Q,[s("div",q,[s("div",z,[s("h1",null,[s("div",E,[k(w(K))]),x(" AI智能问答助手 ")]),G]),s("div",P,[(n(!0),o(C,null,S(v.value,e=>(n(),o("div",{class:"suggestion",onClick:y=>A(e)},_(e),9,R))),256))]),s("div",{class:"chat-container",ref_key:"chatContainer",ref:u},[W,(n(!0),o(C,null,S(p.value,(e,y)=>(n(),o("div",{key:y,class:r(["message",e.sender==="user"?"user-message":"ai-message"])},[s("div",X,[s("span",{class:r(e.sender==="ai"?"ai-label":"user-label")},[s("i",{class:r(e.sender==="ai"?"fas fa-robot":"fas fa-user")},null,2),x(" "+_(e.sender==="ai"?"AI助手":"您"),1)],2)]),e.typing?(n(),o("div",j,ss)):(n(),o("div",es,_(e.text),1)),s("div",ts,_(e.timestamp),1)],2))),128))],512),s("div",as,[D(s("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>a.value=e),placeholder:"输入您的问题...",onKeyup:H(g,["enter"])},null,544),[[F,a.value]]),s("button",{class:r(a.value.length===0?"send-dis-btn":"send-btn"),onClick:g,disabled:a.value.length===0},[k(w(O),{class:"icon-up"})],10,ns)])])]))}});const ds=$(os,[["__scopeId","data-v-30957758"]]);export{ds as default};
